# PMOVES-DoX Environment Configuration Example
# Copy this file to .env.local and fill in your values
#
# Deployment Modes:
#   - PMOVES_MODE=standalone  (default): All local services
#   - PMOVES_MODE=docked      : Integrates with parent PMOVES.AI

# =============================================================================
# DEPLOYMENT MODE
# =============================================================================
PMOVES_MODE=standalone

# =============================================================================
# SUPABASE / DATABASE
# =============================================================================
DB_BACKEND=supabase
DATABASE_URL=postgresql://postgres:postgres@supabase-db:5432/postgres
SUPABASE_URL=http://supabase-rest:3000
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_KEY=your-service-role-key-here

# =============================================================================
# NEURAL KNOWLEDGE (Neo4j)
# =============================================================================
NEO4J_LOCAL_URI=bolt://neo4j:7687
NEO4J_LOCAL_USER=neo4j
NEO4J_LOCAL_PASSWORD=neo4j-local-password-change-me

# Parent Neo4j (for docked mode)
NEO4J_PARENT_URI=bolt://pmoves-neo4j-1:7687
NEO4J_PARENT_USER=neo4j
# NEO4J_PARENT_PASSWORD=Set via docker-compose.docked.yml

# =============================================================================
# NATS MESSAGE BUS
# =============================================================================
# Standalone: nats://nats:4223
# Docked: nats://nats:4222 (parent)
NATS_URL=nats://nats:4223

# =============================================================================
# LLM PROVIDERS (TensorZero Gateway)
# =============================================================================
TENSORZERO_BASE_URL=http://tensorzero-gateway:3030
OPENAI_BASE_URL=http://tensorzero-gateway:3030/openai/v1
OPENAI_API_KEY=tensorzero

# Provider API Keys (optional - for TensorZero routing)
OPENROUTER_API_KEY=your-openrouter-key-here
GOOGLE_API_KEY=your-google-ai-studio-key-here

# Embeddings
TENSORZERO_EMBEDDING_MODEL=qwen3_embedding_8b_local

# =============================================================================
# OLLAMA LOCAL LLM
# =============================================================================
OLLAMA_BASE_URL=http://ollama:11434

# =============================================================================
# FRONTEND
# =============================================================================
FRONTEND_ORIGIN=http://localhost:8484,http://127.0.0.1:8484,http://frontend:3001,http://localhost:3001,http://127.0.0.1:3001
NEXT_PUBLIC_API_BASE=/api
NEXT_PUBLIC_NATS_WS_URL=ws://localhost:9223

# =============================================================================
# AGENT ZERO (DoX)
# =============================================================================
# MCP Server (enable in docked mode)
AGENT_ZERO_MCP_ENABLED=false
AGENT_ZERO_MCP_TOKEN=generate-with-openssl-rand-hex-16

# LLM orchestration
TENSORZERO_API_BASE=http://tensorzero-gateway:3030/v1

# =============================================================================
# FEATURES
# =============================================================================
OPEN_PDF_ENABLED=true
SEARCH_DEVICE=cpu
FAST_PDF_MODE=false
WATCH_ENABLED=true
WATCH_DIR=/app/watch
WATCH_DEBOUNCE_MS=1000
WATCH_MIN_BYTES=1

# =============================================================================
# PROCESSING
# =============================================================================
# PDF processing
PDF_OCR_ENABLED=false
PDF_FINANCIAL_ANALYSIS=true
PDF_PICTURE_DESCRIPTION=false

# VLM (Vision Language Model for PDF charts/figures)
# DOCLING_VLM_REPO=ibm-granite/granite-docling-258m-demo

# =============================================================================
# POSTMAN AGENT
# =============================================================================
POSTMAN_API_KEY=your-postman-api-key-here

# =============================================================================
# GEOMETRY BUS (CHIT)
# =============================================================================
# Geometry packet simulation
CHIT_GEOMETRY_ENABLED=true

# =============================================================================
# MONITORING (optional)
# =============================================================================
# GRAFANA_ADMIN_PASSWORD=admin
# PROMETHEUS_RETENTION=15d

# =============================================================================
# DEVELOPMENT
# =============================================================================
AUTO_MIGRATE=true
LOG_LEVEL=INFO
