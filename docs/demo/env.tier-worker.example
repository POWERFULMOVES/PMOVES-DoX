# PMOVES Tier: Worker Services
# Services: extract-worker, langextract, pdf-ingest, notebook-sync
# Principle: Data tier access + TensorZero for embeddings, NO external API keys

# ----- NATS (Event Bus) -----
NATS_URL=nats://nats:4222

# ----- TensorZero (for embeddings via internal gateway) -----
TENSORZERO_BASE_URL=http://tensorzero-gateway:3000
TENSORZERO_URL=http://tensorzero-gateway:3000
TENSORZERO_EMBED_MODEL=tensorzero::embedding_model_name::qwen3_embedding_4b_local

# ----- Qdrant (Vector Store) -----
QDRANT_URL=http://qdrant:6333
QDRANT_COLLECTION=pmoves_chunks_qwen3
SENTENCE_MODEL=all-MiniLM-L6-v2

# ----- Meilisearch (Full-Text Indexing) -----
MEILI_URL=http://meilisearch:7700
MEILI_API_KEY=${MEILI_MASTER_KEY}

# ----- MinIO (Object Storage for Documents) -----
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_SECURE=false

# ----- Supabase (Metadata Storage) -----
SUPA_REST_URL=http://host.docker.internal:65421/rest/v1
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here

# ----- Open Notebook (for notebook-sync) -----
OPEN_NOTEBOOK_API_URL=http://host.docker.internal:5055
OPEN_NOTEBOOK_API_TOKEN=

# ----- Indexer Defaults -----
INDEXER_NAMESPACE=pmoves
