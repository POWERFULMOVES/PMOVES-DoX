# TensorZero gateway config for PMOVES-DoX
# Uses OpenAI-compatible API for model routing

[gateway]

# Observability enabled (connects to parent PMOVES.AI ClickHouse)
[gateway.observability]
enabled = true
async_writes = true

# Disable OTLP traces (we use ClickHouse directly)
[gateway.export.otlp.traces]
enabled = false

# -----------------
# Chat Models
# -----------------

# Gemini Flash (Google AI - primary)
[models.gemini_flash]
routing = ["google_ai"]

[models.gemini_flash.providers.google_ai]
type = "google_ai_studio_gemini"
model_name = "gemini-1.5-flash"

# Llama 3.2 via Ollama (fallback/local)
[models.llama_ollama]
routing = ["ollama_local"]

[models.llama_ollama.providers.ollama_local]
type = "openai"
api_base = "http://ollama:11434/v1"
model_name = "llama3.2"
api_key_location = "none"

# -----------------
# Embedding Models
# -----------------

# Qwen3 Embedding 8B via Ollama (4096d, RTX 5090 optimized)
[models.qwen3_embed]
routing = ["ollama_local"]

[models.qwen3_embed.providers.ollama_local]
type = "openai"
api_base = "http://ollama:11434/v1"
model_name = "qwen3-embedding:8b"
api_key_location = "none"
